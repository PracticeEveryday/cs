## 유선 연결
`유선 연결`은 간단하다.   
컴퓨터와 컴퓨터 사이에 `선을 연결`하여 데이터를 주고 받는 것이다.   

### 이더넷(Ethernet)

> 이더넷이라는 명칭은 빛을 매질로 여겨졌던 에테르(ether)에서 유래되었다고 한다.

이더넷은 OSI 7계층에서 물리 계층에 위치하며 신호와 배선, MAC(Media Access Control) 패킷과 프로토콜 형식을 정의한다.   
이더넷 기술은 [IEEE 802.3](https://ko.wikipedia.org/wiki/IEEE_802.3) 규약으로 표준화되었다

이더넷은 근거리 통신망을 구축할 목적으로 설계된 네트워크 기술이다.   
소규모 ~ 대규모에 이르기까지 유선 네트워크를 연결하기 위한 효율적인 표준이다.

이더넷이 연결된 기기들은 고유한 `48비트(6바이트)의 MAC 주소`를 가지고 있다.   
`데이터를 수신`할 때 MAC 주소를 통해 확인한다.

이를 통해 기기를 구분하고 데이터를 주고 받을 수 있게 된다.

#### 이더넷 동작 절차

1. 네트워크를 사용하려는 컴퓨터가 사용하려는 네트워크 선에 데이터가 흐르고 있는 지 확인
2. 사용 중이라면 회선을 사용할 수 있을 때까지 대기(CSMA/CD(반송파 감지 다중 접속/충돌 탐지)라는 프로토콜)
   1. 만약, 사용하려는 네트워크 회선을 여러 컴퓨터가 동시에 전송해 충돌이 발생하면 최소 패킷 시간 동안 전송하여 다른 컴퓨터가 충돌을 인지할 수 있게 한다.
   2. 임의의 시간 동안 기다린 후 신호를 감지하고 네트워크 사용자가 없으면 전송을 시작한다.
3. 전송을 마치면 상위 계층에 전송이 끝났음을 알림
4. 여러번 시도해도 실패한다면 실패를 상위 계층에 알림

#### CSMA/CD(Carrier Sense Multiple Access/Collision Detection) 프로토콜

1. A, B 컴퓨터는 서버에 정보를 전송하기 위해 회선이 사용 중이지 않는지 확인 (반송파 감지 - Carrier Sense, 또는 청취)
2. 양 컴퓨터는 회선이 사용 중이지 않다는 것을 확인하고 두 컴퓨터가 서버로 정보를 요청 (다중 접근 - Multi Access)
3. 두 컴퓨터의 통신이 충돌(Collision), 신호가 퍼져나갈 때 비정상적인 증폭으로 충돌을 확인한다. (충돌 감지 - Collision Detection) 충돌을 확인한 전송장비가 충돌을 알림 (충돌 신호 - Jam Signal)
4. A, B 컴퓨터는 충돌을 확인 후 백오프(Backoff) 알고리즘을 수행하고, 임의의 시간 동안 전송을 중단
5. 임의의 시간이 지난 후, 다시 청취모드로 돌아가 이 과정을 충돌이 일어나지 않을 때까지 반복

#### 이더넷 전송 구조
이더넷은 `Frame` 이라는 형태로 데이터를 작게 분할한다.   
이 후 프레임을 `전기 신호` 또는 `광신호`로 변경한 후 `통신 매체로 송출`한다!

이더넷의 프레임은 최대 `1500바이트`의 데이터를 포함하여 보내게 되는 데, 만약 1500 바이트 이상의 데이터를 전송한다면 프레임을 여러개로 쪼갠 뒤 반복하여 보내게 된다.

```
// 프레임 구조
|---Preamble---|---SFD-----|---수신처 MAC 주소---|---송신처 MAC 주소---|---타입---|---데이터------|---FCS---|   
|---7Byte------|---1Byte---|---6Byte----------|----6Byte----------|---2Byte|---46~1500Byte|---4Byte--|
```
1. Preamble: 송신 시작을 나타내는 표시
2. SFD(Start of Frame Delimeter): 시작 프레임 지시기
3. 수신처 MAC 주소: 목적지 네트워크 카드 MAC 주소
4. 송신처 MAC 주소: 발신지 네트워크 카드 MAC 주소
5. 타입: 데이터에 사용되는 상위 프로토콜
6. 데이터: 전송하고자하는 데이터
7. FCS(Frame Check Sequence): 데이터 오류를 컴출하기 위한 코드 


### 참고 자료
- [[네트워크 깨부수기] 1. 데이터는 어떻게 전송되는가?](https://www.youtube.com/watch?v=hnsPvW219qM)
- [이더넷이란?](https://www.hpe.com/kr/ko/what-is/ethernet.html)
- [CSMA/CD](https://namu.wiki/w/CSMA/CD)
- [이더넷(Ethernet)의 뜻과 유선 네트워크!](https://blog.naver.com/hai0416/221614804171)